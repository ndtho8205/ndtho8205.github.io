<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Tho Nguyen"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Sử dụng công cụ debug của Visual Studio - Phần 2 - Rabbit</title><link rel="shortcut icon" href=https://ndtho8205.github.io/images/favicon.ico type=image/x-icon><link rel=icon href=https://ndtho8205.github.io/images/favicon.ico type=image/x-icon><link rel=stylesheet href=https://ndtho8205.github.io/css/style.css></head><body class=text-base><header class="py-4 border-b border-divider sm:flex sm:items-center sm:mx-auto sm:px-4 sm:max-w-3xl md:max-w-5xl"><a class="block mb-4 mt-6 sm:my-0" href=https://ndtho8205.github.io/><img src=/images/logo.svg alt=logo class="mx-auto w-20 sm:w-16"></a><nav class="text-center text-gray text-sm font-medium uppercase sm:ml-auto"><a class="mx-1 px-1 hover:text-primary focus:text-primary" href=/>Blog</a>
<a class="mx-1 px-1 hover:text-primary focus:text-primary" href=/reading/>Reading</a>
<a class="mx-1 px-1 hover:text-primary focus:text-primary" href=/about/>About</a></nav></header><main class="mb-12 mt-12 mx-auto px-4 max-w-xl sm:max-w-2xl md:max-w-3xl"><article><header class=mb-16><aside class=flex><time datetime=2015-06-04T00:00:00Z class=text-gray>04 Jun 2015</time><div class=ml-auto></div></aside><h1 class="mt-4 text-primary-dark text-4xl font-bold">Sử dụng công cụ debug của Visual Studio - Phần 2</h1></header><div class="prose prose-lg"><p>Không biết mọi người thế nào, chứ với mình, quá trình sửa lỗi, debug chương trình là phần mình khoái nhất. Nó đòi hỏi tư duy và lập luận logic rất cao, bạn cũng cần cho mình một chiến lược cụ thể mới có thể đẩy nhanh tốc độ debug, khoanh vùng vị trí code lỗi, và sửa nó. Quan trọng hơn, bạn phải biết bạn viết gì, code bạn chạy như thế nào, chuyện gì sẽ xảy ra tiếp theo, tức là phải quản lí được code của mình. Hãy tưởng tượng quá trình chạy của chương trình, bạn sẽ thấy nó khá dễ dàng.</p><p>Tự sướng tí 😉 Ta tiếp tục nhé!</p><h3 id=breakpoints>Breakpoints</h3><p>Cửa sổ này đơn giản chỉ là một danh sách các breakpoint được đặt trong code của bạn. Bạn có thể di chuyển đến breakpoint nhanh chóng bằng cách click đúp chuột vào tên nó.</p><p>Một số mục như Labels, Condition, Hit Count mình sẽ để dành cho phần sau. Lí do? Xem cuối bài nhé.</p><h3 id=command-window>Command Window</h3><p>Command Window được dùng để điều khiển Visual Studio thông qua giao diện dòng lệnh và debug. Từ lúc biết và xài thử nó đến giờ, mình chưa đụng tới lần nào nữa.</p><p>Không chỉ trong debug, bạn có thể mở cửa sổ này bằng cách vào menu View <i class="fa fa-long-arrow-right"></i>Other Windows <i class="fa fa-long-arrow-right"></i>Command Window.</p><p><img src=/images/SudungcongcudebugtrongVS_7.png alt=SudungcongcudebugtrongVS_7.png></p><p>Gõ <code>File.</code> vào cửa sổ, bạn sẽ thấy nhắc lệnh. Ngoài ra có các nhóm lệnh khác để điều khiển Visual Studio (như <code>Edit</code>, <code>View</code>, <code>Build</code>,&mldr; hình như trùng tên trên thanh menu thì phải 😉). Bạn có thể tự tìm hiểu.</p><p>Ví dụ vài cái nhé:</p><p><code>File.OpenFile</code>: mở file, có thể dùng lệnh <code>of</code> cho gọn.</p><p><code>Build.Compile</code>: dịch chương trình.</p><p><code>bp</code>: đặt breakpoint tại dòng hiện tại.</p><p>Trong debug, bạn dùng lệnh <code>? varA</code> hay <code>? myFunc()</code> để xem giá trị của biến A hay hàm myFunc() (có thể truyền đối số vào nếu có). Một số lệnh khác:</p><p><code>??</code>: đưa biến/hàm vào cửa sổ Watch.</p><p><code>locals</code>: hiện cửa sổ Locals.</p><p><code>autos</code>: hiện cửa sổ Autos.</p><p><img src=/images/SudungcongcudebugtrongVS_8.png alt=SudungcongcudebugtrongVS_8.png></p><h3 id=call-stack>Call Stack</h3><p>Cái này dành cho bạn nào &ldquo;khoái&rdquo; đệ quy đây 😍</p><p><img src=/images/SudungcongcudebugtrongVS_9.png alt=SudungcongcudebugtrongVS_9.png></p><p>Bạn đặt breakpoint tại dòng đầu tiên trong hàm đệ quy. Mỗi lần gọi đệ quy, chương trình sẽ tạm ngưng.</p><p>Nhìn hình thật kĩ nha. Trước khi gọi hàm <code>main</code>, ta có 2 hàm phụ (hai hàm này làm gì mình không biết nữa 😢). Ở dòng 15, hàm <code>main</code> gọi hàm <code>myPow</code> và chờ nó kết thúc. Hàm <code>myPow</code> gọi tới chính nó ở dòng 7, tiếp tục như thế đến khi n = 0, gặp điều kiện thoát khỏi đệ quy (dòng 6), thì ta cho chương trình dừng lại (dấu tròn đỏ có mũi tên vàng đó bạn).</p><p>Nhìn vào Call Stack bạn thấy rõ quá trình và thứ tự gọi hàm, các đối số truyền vào nó (chuột phải vào một dòng bất kì trong Call Stack, chọn Show Parameter Values nhé 😁)</p><p>Ngoài lề chút, bạn thấy từ &ldquo;Stack&rdquo; có quen không? Nếu biết về đặc điểm của vùng nhớ được sử dụng khi chạy chương trình, bạn sẽ biết tại sao nó lại xuất hiện ở đây. Nhưng thôi, để tránh làm loãng bài viết, mình sẽ có một series riêng về phần này sau. (mình hẹn hơi bị &ldquo;nhiều&rdquo; thì phải 😉)</p><h3 id=immediate-window>Immediate Window</h3><p>Hehe tới phần mình &ldquo;khoái&rdquo; rồi nè! Cái này cực &ldquo;xịn&rdquo; luôn nhé. Trong quá trình debug, bạn có thể dùng nó để xác định biểu thức, xem/sửa đổi giá trị biến ngay trong giao diện dòng lệnh, kiểm tra một hàm có chạy được và ra kết quả đúng hay không, từ đó khoanh vùng phạm vi code sai. Rất tiện!</p><p>Xem hình để hiểu hơn nào.</p><p><img src=/images/SudungcongcudebugtrongVS_10.png alt=SudungcongcudebugtrongVS_10.png></p><p>Dùng này để kiểm tra phương thức của lớp nữa.</p><p><img src=/images/SudungcongcudebugtrongVS_11.png alt=SudungcongcudebugtrongVS_11.png></p><p>Bạn thử gõ <code>> File.</code> xem, vâng nó rất giống với Command Window. Nhưng mình thích dùng Immediate Window hơn, ít nhất khoản debug, đỡ phải gõ dấu <code>?</code> để xem giá trị của biến 😄</p><p>Kết thúc phần hai. Các công cụ trên đây rất hay, nếu biết cách sử dụng, kết hợp với nhau, quá trình debug sẽ dễ dàng hơn nhiều, lấy ra khoe, nhá hàng cũng được lắm đấy 😉</p><p>Hai phần đã xong. Bạn học được gì?</p><p>Chỉ đọc thì không giúp ích bao nhiêu, bạn hãy áp dụng vào các chương trình thực tế, kĩ năng dần hoàn thiện sẽ giúp bạn tiết kiệm rất nhiều thời gian. Qua hai phần này, chúng ta đã tìm hiểu &ldquo;sơ lược&rdquo; một số công cụ &ldquo;nhìn thấy sẵn&rdquo; (tức là chạy debug là các cửa sổ đó hiện ra ngay, đập ngay vào mắt bạn). Phần 3 tiếp theo sẽ là một số công cụ tiềm ẩn khác. Cùng nhau tìm hiểu nhé! 😉</p></div></article></main><footer class="py-6 text-center text-gray text-sm border-t border-divider">&copy; Tho Nguyen, 2020. Built with
<a href=https://gohugo.io/>Hugo</a>.</footer><div class=snow-container><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div><div class=snow></div></div><script src=https://ndtho8205.github.io/js/main.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.js></script></body></html>