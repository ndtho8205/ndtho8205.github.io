<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="author" content="" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />

  
  <title>Con trá» trong cpp - Black Rabbit</title>
  

  
  <link rel="stylesheet" href="http://ndtho8205.github.io/scss/main.min.cfa7e2e0122822a96a861deeb11fbe9dbaca3defbabfdfd9d96de790f93b6d64.css" />
</head>


<body>
    <article class="post">
        <header class="post-header">
            <h1 class="post-title">Con trá» trong cpp</h1>
            <time class="post-date" datetime="2015-05-31">
                31 May 2015
            </time>
        </header>

        <div class="post-content">
            <p>KhÃ¡i niá»‡m con trá» mÃ¬nh Ä‘Ã£ gáº·p tá»« há»“i cáº¥p 3 lÃºc há»c Pascal, cÅ©ng cháº­t váº­t láº¯m má»›i hiá»ƒu Ä‘Æ°á»£c rá»“i dÃ¹ng Ä‘á»ƒ táº¡o danh sÃ¡ch liÃªn káº¿t, heap, cÃ¢y, giáº£i Ä‘Æ°á»£c má»™t lá»‘c bÃ i toÃ¡n tin.</p>

<p>TÃ¬m hiá»ƒu nhiá»u hÆ¡n, nÃ³ cÅ©ng cÃ³ nhiá»u trÃ² vui ná»¯a, sá»­ dá»¥ng con trá» access vÃ o vÃ¹ng memory dÃ nh riÃªng cho viá»‡c hiá»ƒn thá»‹ mÃ n hÃ¬nh (mÃ¬nh nhá»› lÃ  máº£ng kÃ½ tá»± 80x25) khi Ä‘Ã³ thay Ä‘á»•i má»™t pháº§n tá»­ [x, y] trong máº£ng, tÆ°Æ¡ng á»©ng Ã´ kÃ­ tá»± trÃªn mÃ n hÃ¬nh console á»Ÿ vá»‹ trÃ­ [x, y] cÅ©ng thay Ä‘á»•i theo (gá»‘c toáº¡ Ä‘á»™ á»Ÿ mÃ n hÃ¬nh console lÃ  gÃ³c trÃ¡i trÃªn), mÃ¬nh dÃ¹ng cÃ¡i nÃ y Ä‘á»ƒ viáº¿t chÆ°Æ¡ng trÃ¬nh váº½ chá»¯ (táº·ng gÃ¡i ğŸ˜„). NguyÃªn táº¯c lÃ  chÆ°Æ¡ng trÃ¬nh sáº½ nháº­n toáº¡ Ä‘á»™ mÃ  chuá»™t click vÃ o, sau Ä‘Ã³ viáº¿t má»™t kÃ­ tá»± (ngÆ°á»i dÃ¹ng Ä‘Ã£ nháº­p trÆ°á»›c) ngay vá»‹ trÃ­ áº¥y (khÃ´ng cÃ³ dÃ¹ng thá»§ tá»¥c gotoxy nhÃ¡). Ngá»“i má»Ÿ láº¡i file Ä‘Ã³ Ä‘á»‹nh chá»¥p cÃ¡i hÃ¬nh nhÆ°ng Windows 8 khÃ´ng cháº¡y, buá»“n ghÃª ğŸ˜¢</p>

<p>Quay láº¡i váº¥n Ä‘á» chÃ­nh. Trong C/cpp cÃ³ thá»ƒ nÃ³i con trá» Ä‘Ã£ Ä‘Æ°á»£c nÃ¢ng lÃªn má»™t táº§m cao má»›i, má»™t cÃ´ng cá»¥ cá»±c kÃ¬ máº¡nh ğŸ‘ Máº¡nh nhÆ° tháº¿ nÃ o? Há»“i sau sáº½ rÃµ ğŸ˜</p>

<p>CÃ¡c khÃ¡i niá»‡m liÃªn quan Ä‘áº¿n con trá» Ä‘á»u khÃ¡ trá»«u tÆ°á»£ng, tÃ¬m hiá»ƒu khÃ´ng tÆ°á»ng táº­n sáº½ cÃ³ nhiá»u váº¥n Ä‘á» khiáº¿n báº¡n khÃ³ hiá»ƒu, hiá»ƒu sai (mÃ¬nh khÃ´ng dÃ¡m báº£o lÃ  mÃ¬nh master pháº§n nÃ y, cÃ³ sai sÃ³t gÃ¬ cÃ¹ng nhau tháº£o luáº­n, sá»­a chá»¯a, bá»• sung nhÃ©).</p>

<h3 id="con-trá»-lÃ -gÃ¬">Con trá» lÃ  gÃ¬?</h3>

<p>Con trá» lÃ  má»™t biáº¿n dÃ¹ng Ä‘á»ƒ chá»©a Ä‘á»‹a chá»‰. Báº£n cháº¥t con trá» váº«n lÃ  má»™t <strong>biáº¿n nguyÃªn</strong> bÃ¬nh thÆ°á»ng nhÆ° bao biáº¿n nguyÃªn khÃ¡c. Tá»©c lÃ  nÃ³ cÅ©ng cÃ³ Ä‘á»‹a chá»‰ riÃªng trong bá»™ nhá»›, giÃ¡ trá»‹ nÃ³ lÆ°u trá»¯ cÅ©ng thuá»™c dáº¡ng sá»‘ nguyÃªn.</p>

<p><strong>Thá»© nháº¥t</strong>, mÃ¬nh Ä‘Ã£ nÃ³i con trá» lÃ  má»™t biáº¿n nguyÃªn, cÃ³ thá»ƒ báº¡n sáº½ tháº¯c máº¯c vá»›i cÃ¡c khai bÃ¡o sau.</p>

<pre><code class="language-cpp">struct sampleStruct {
// cÃ¡c trÆ°á»ng cá»§a sampleStruct
};

double *pDouble;
char *pChar;
sampleStruct \*pSS;
</code></pre>

<p>CÃ¡c con trá» <code>pDouble</code>, <code>pChar</code>, <code>pSS</code> lÃ  kiá»ƒu gÃ¬? Tráº£ lá»i: Kiá»ƒu nguyÃªn háº¿t Ä‘Ã³! Kiá»ƒu dá»¯ liá»‡u khi khai bÃ¡o con trá» lÃ  <strong>kiá»ƒu dá»¯ liá»‡u cá»§a vÃ¹ng nhá»›</strong> mÃ  con trá» trá» Ä‘áº¿n.</p>

<p><strong>Thá»© hai</strong>, con trá» khÃ¡c cÃ¡c biáº¿n bÃ¬nh thÆ°á»ng báº¡n táº¡o (dÃ¹ng Ä‘á»ƒ chá»©a sá»‘ háº¡ng), nÃ³ chá»©a Ä‘á»‹a chá»‰ cá»§a biáº¿n khÃ¡c. Khi in Ä‘á»‹a chá»‰ cá»§a má»™t biáº¿n ra mÃ n hÃ¬nh (dÃ¹ng toÃ¡n tá»­ <code>&amp;</code>), báº¡n tháº¥y káº¿t quáº£ lÃ  má»™t sá»‘ nguyÃªn viáº¿t á»Ÿ há»‡ Ä‘áº¿m cÆ¡ sá»‘ 16 (hexadecimal) vÃ  báº¡n nghÄ© Ä‘á»‹a chá»‰ thá»±c cháº¥t cÅ©ng lÃ  sá»‘ nguyÃªn. VÃ¢ng, nhÆ°ng báº¡n cáº§n hiá»ƒu thÃªm ráº±ng, máº·c dÃ¹ Ä‘á»‹a chá»‰ cá»§a biáº¿n lÃ  má»™t sá»‘ nguyÃªn <strong>nhÆ°ng</strong> khÃ´ng Ä‘Æ°á»£c Ä‘Ã¡nh Ä‘á»“ng nÃ³ vá»›i cÃ¡c sá»‘ nguyÃªn thÃ´ng thÆ°á»ng dÃ¹ng trong cÃ¡c phÃ©p tÃ­nh, nÃ³ cÃ³ má»™t kÃ­ hiá»‡u Ä‘áº·c biá»‡t Ä‘á»ƒ nháº­n biáº¿t. Do Ä‘Ã³ báº¡n khÃ´ng thá»ƒ gÃ¡n giÃ¡ trá»‹ cá»§a con trá» báº±ng má»™t sá»‘ nguyÃªn bÃ¬nh thÆ°á»ng. Sau Ä‘Ã¢y lÃ  Ä‘oáº¡n code chá»©ng minh.</p>

<pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
int a = 9;
int \*p;

    p = &amp;a;
    p = 9;
    return 0;

}
</code></pre>

<p>Compiler bÃ¡o lá»—i á»Ÿ dÃ²ng sá»‘ 8: <code>invalid conversion from 'int' to 'int*'</code>. Báº¡n hÃ£y sá»­a láº¡i nhÆ° dÆ°á»›i Ä‘Ã¢y vÃ  cháº¡y láº¡i.</p>

<pre><code class="language-cpp">p = (int\*) 9;
</code></pre>

<p>Báº¡n Ä‘Ã£ hiá»ƒu chá»©?</p>

<p><strong>Thá»© ba</strong>, Ä‘iá»u cuá»‘i cÃ¹ng, báº¡n cáº§n phÃ¢n biá»‡t rÃµ Ä‘á»‹a chá»‰ cá»§a con trá» vÃ  Ä‘á»‹a chá»‰ vÃ¹ng nhá»› mÃ  con trá» trá» Ä‘áº¿n.</p>

<pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
int a = 10;
int \*p;

    std::cout &lt;&lt; &quot;Dia chi cua a: &quot; &lt;&lt; &amp;a &lt;&lt; std::endl;
    std::cout &lt;&lt; &quot;Dia chi cua p: &quot; &lt;&lt; &amp;p &lt;&lt; '\t'
          &lt;&lt; &quot;Gia tri cua p: &quot; &lt;&lt; p &lt;&lt; std::endl;

    p = &amp;a;

    std::cout &lt;&lt; &quot;Dia chi cua p: &quot; &lt;&lt; &amp;p &lt;&lt; '\t'
          &lt;&lt; &quot;Gia tri cua p: &quot; &lt;&lt; p &lt;&lt; std::endl;

    return 0;

}
</code></pre>

<p>ÄÃ¢y lÃ  káº¿t quáº£ sau khi cháº¡y Ä‘oáº¡n code trÃªn.</p>

<p><img src="/images/Controtrongcpp_1.png" alt="Controtrongcpp_1.png" /></p>

<p>Xem hÃ¬nh nÃ y Ä‘á»ƒ dá»… hÃ¬nh dung nhÃ©.</p>

<p><img src="/images/Controtrongcpp_2.png" alt="Controtrongcpp_2.png" /></p>

<p>Xong bÃ i! ğŸ˜‚ Hy vá»ng nÃ³ dá»… hiá»ƒu vá»›i má»i ngÆ°á»i.</p>

<p>Ã€ vá» dÃ²ng <code>Virtual memory</code>, lÃ  do mÃ¬nh Ä‘ang tÃ¬m hiá»ƒu Memory management, Ä‘á»c má»™t sá»‘ tÃ i liá»‡u tháº¥y ghi váº­y lÃ  chuáº©n nháº¥t. BÃ i sau mÃ¬nh sáº½ lÃ m rÃµ. Cháº£ lÃ  vÃ¬ tÃ¬m hiá»ƒu chÆ°a tá»›i Ä‘Ã¢u, láº¡i Ä‘á»¥ng cháº¡m tá»›i Assembly, gáº§n thi nÃªn thá»i gian háº¡n háº¹p. Háº¹n láº¡i nhÃ©! ğŸ˜„</p>
        </div>
    </article>
</body>

</html>
